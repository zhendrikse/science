<div id="glowscript" class="glowscript">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link type="text/css" href="https://www.glowscript.org/css/redmond/2.1/jquery-ui.custom.css" rel="stylesheet" />
<script type="text/javascript" src="https://www.glowscript.org/lib/jquery/2.1/jquery.min.js"></script>
<script type="text/javascript" src="https://www.glowscript.org/lib/jquery/2.1/jquery-ui.custom.min.js"></script>
<script type="text/javascript" src="https://www.glowscript.org/package/glow.3.2.min.js"></script>
<script type="text/javascript" src="https://www.glowscript.org/package/RSrun.3.2.min.js"></script>
<script type="text/javascript"><!--//--><![CDATA[//><!--

// START JAVASCRIPT
;(function() {;
var ρσ_modules = {};
var dt, running;
ρσ_modules.pythonize = {};

(function(){
    function strings() {
        var string_funcs, exclude, name;
        string_funcs = set("capitalize strip lstrip rstrip islower isupper isspace lower upper swapcase center count endswith startswith find rfind index rindex format join ljust rjust partition rpartition replace split rsplit splitlines zfill".split(" "));
        if (!arguments.length) {
            exclude = (function(){
                var s = ρσ_set();
                s.jsset.add("split");
                s.jsset.add("replace");
                return s;
            })();
        } else if (arguments[0]) {
            exclude = Array.prototype.slice.call(arguments);
        } else {
            exclude = null;
        }
        if (exclude) {
            string_funcs = string_funcs.difference(set(exclude));
        }
        var ρσ_Iter0 = string_funcs;
        ρσ_Iter0 = ((typeof ρσ_Iter0[Symbol.iterator] === "function") ? (ρσ_Iter0 instanceof Map ? ρσ_Iter0.keys() : ρσ_Iter0) : Object.keys(ρσ_Iter0));
        for (var ρσ_Index0 of ρσ_Iter0) {
            name = ρσ_Index0;
            (ρσ_expr_temp = String.prototype)[(typeof name === "number" && name < 0) ? ρσ_expr_temp.length + name : name] = (ρσ_expr_temp = ρσ_str.prototype)[(typeof name === "number" && name < 0) ? ρσ_expr_temp.length + name : name];
        }
    };
    if (!strings.__module__) Object.defineProperties(strings, {
        __module__ : {value: "pythonize"}
    });

    ρσ_modules.pythonize.strings = strings;
})();

async function __main__() {
"use strict";
    var display = canvas;
    var scene = canvas();

    function round(num, n=0) {return Number(num.toFixed(n))}
    var arrow, compound, cone, curve, cylinder, ellipsoid, extrusion, points, pyramid, ring, sphere, simple_sphere, group, sleep, update, paths, shapes, vertex, triangle, quad, label, distant_light, local_light, attach_trail, attach_arrow, attach_light, pi, tan, asin, acos, atan, atan2, exp, log, pow, factorial, combin, radio, checkbox, checkbox, text, download, radians, degrees, get_library, read_local_file
    var version, print, arange, __name__, type, ρσ_ls, title, display, amplitude, phi, spring_rest_length, position_graph, exact_curve, euler_curve, implicit_curve, rk2_curve, rk4_curve, error_graph, rk4_error, rk2_error, euler_error, implicit_error, _GS_1, exact_oscillator, euler_oscillator, implicit_euler_oscillator, runge_kutta_2_oscillator, runge_kutta_4_oscillator, dt, running, run_button, dt_slider;
    version = ρσ_list_decorate([ "3.2", "glowscript" ]);
    Array.prototype['+'] = function(r) {return this.concat(r)}
    Array.prototype['*'] = function(r) {return __array_times_number(this, r)}
    window.__GSlang = "vpython";
    print = GSprint;
    arange = range;
    __name__ = "__main__";
    type = pytype;
    var strings = ρσ_modules.pythonize.strings;

    strings();
    "15";
    title = "&#x2022; Based on <a href=\"https://trinket.io/glowscript/1fe7d9cdd6\">this code<\/a> and <a href=\"https://www.youtube.com/watch?v=dShtlMl69kY\">accompanying video</a>\n&#x2022; Refactored by <a href=\"https://www.hendrikse.name/\">Zeger Hendrikse</a> to <a href=\"https://github.com/zhendrikse/science/blob/main/kinematics/code/numerical_methods.py\">numerical_methods.py</a>\n\n&#x2022; Comparison of accuracy of numerical methods:\n   &#x2022; <span style=\"color: red\">Exact solution (red))</span>\n   &#x2022; <span style=\"color: cyan\">Euler&apos;s method (cyan)</span>\n   &#x2022; <span style=\"color: orange\">Implicit Euler method (orange)</span> \n   &#x2022; <span style=\"color: purple\">Runge-Kutta 2 (purple)</span>\n   &#x2022; <span style=\"color: green\">Runge-Kutta 4 (green)</span>\n\n";
    "17";
    display = ρσ_interpolate_kwargs.call(this, canvas, [ρσ_desugar_kwargs({title: title, width: 600, background: color.gray(.075), range: 1.75, forward: vec(1["-u"]()["*"](.5), 1["-u"]()["*"](.1), 1["-u"]()["*"](.8))})]);
    "19";
    amplitude = .5;
    "20";
    phi = 0;
    "21";
    spring_rest_length = 1;
    "24";
    function Oscillator() {;
    }
    Oscillator.prototype.__init__ = async function __init__() {
        var self = this;
        var block_height = ( 0 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true) ? undefined : arguments[0];
        var spring_length = ( 1 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true) ? undefined : arguments[1];
        var mass = (arguments[2] === undefined || ( 2 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__.mass : arguments[2];
        var k = (arguments[3] === undefined || ( 3 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__.k : arguments[3];
        var colour = (arguments[4] === undefined || ( 4 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__.colour : arguments[4];
        var ρσ_kwargs_obj = arguments[arguments.length["-"](1)];
        if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== "object" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "mass")){
            mass = ρσ_kwargs_obj.mass;
        }
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "k")){
            k = ρσ_kwargs_obj.k;
        }
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "colour")){
            colour = ρσ_kwargs_obj.colour;
        }
        "26";
        self._velocity = 0;
        "27";
        self._mass = mass;
        "28";
        self._spring_constant = k;
        "29";
        self._omega = sqrt(k["/"](mass));
        "30";
        self._clock = 0;
        "32";
        self._block = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({pos: vector(amplitude, block_height, 0), length: .3, width: .3, height: .3, color: colour})]);
        "38";
        self._spring = ρσ_interpolate_kwargs.call(this, helix, [ρσ_desugar_kwargs({pos: vector(self._block.pos.x["-"](1["*"](spring_length)), self._block.pos.y, 0), axis: vector(1, 0, 0), length: spring_length, radius: self._block.width["/"](3), thickness: .02, color: colour})]);
    };
    if (!Oscillator.prototype.__init__.__defaults__) Object.defineProperties(Oscillator.prototype.__init__, {
        __defaults__ : {value: {mass:3, k:2, colour:vector(0, 1, 1)}},
        __handles_kwarg_interpolation__ : {value: true},
        __argnames__ : {value: ["block_height", "spring_length", "mass", "k", "colour"]},
        __module__ : {value: null}
    });
    Oscillator.__argnames__ = Oscillator.prototype.__init__.__argnames__;
    Oscillator.__handles_kwarg_interpolation__ = Oscillator.prototype.__init__.__handles_kwarg_interpolation__;
    Oscillator.prototype._update_spring = async function _update_spring() {
        var self = this;
        "48";
        self._spring.axis = self._block.pos["-"](1["*"](self._spring.pos));
        "49";
        self._spring.length = mag(self._spring.axis);
    };
    if (!Oscillator.prototype._update_spring.__module__) Object.defineProperties(Oscillator.prototype._update_spring, {
        __module__ : {value: null}
    });
    Oscillator.prototype.pos = async function pos() {
        var self = this;
        "52";
        return self._block.pos;
    };
    if (!Oscillator.prototype.pos.__module__) Object.defineProperties(Oscillator.prototype.pos, {
        __module__ : {value: null}
    });
    Oscillator.prototype._numerical_time_lapse = async function _numerical_time_lapse(dt, num_method) {
        var self = this;
        var ρσ_ls, ρσ_unpack;
        "55";
        ρσ_unpack = (await num_method(self._block.pos.x, self._velocity, dt, self._spring_constant, self._mass));
ρσ_unpack = ρσ_unpack_asarray(2, ρσ_unpack);
        self._block.pos.x = ρσ_unpack[0];
        self._velocity = ρσ_unpack[1];
        "57";
        (await self._update_spring());
    };
    if (!Oscillator.prototype._numerical_time_lapse.__argnames__) Object.defineProperties(Oscillator.prototype._numerical_time_lapse, {
        __argnames__ : {value: ["dt", "num_method"]},
        __module__ : {value: null}
    });
    Oscillator.prototype._exact_time_lapse = async function _exact_time_lapse(dt) {
        var self = this;
        "60";
        self._clock=self._clock["+"](dt);
        "61";
        self._block.pos.x = amplitude["*"](cos(self._omega["*"](self._clock)["+"](phi)));
        "62";
        self._velocity = 1["-u"]()["*"](amplitude)["*"](self._omega)["*"](sin(self._omega["*"](self._clock)["+"](phi)));
        "63";
        (await self._update_spring());
    };
    if (!Oscillator.prototype._exact_time_lapse.__argnames__) Object.defineProperties(Oscillator.prototype._exact_time_lapse, {
        __argnames__ : {value: ["dt"]},
        __module__ : {value: null}
    });
    Oscillator.prototype.time_lapse = async function time_lapse() {
        var self = this;
        var dt = ( 0 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true) ? undefined : arguments[0];
        var num_method = (arguments[1] === undefined || ( 1 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? time_lapse.__defaults__.num_method : arguments[1];
        var ρσ_kwargs_obj = arguments[arguments.length["-"](1)];
        if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== "object" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "num_method")){
            num_method = ρσ_kwargs_obj.num_method;
        }
        "66";
        if (num_method === null) {
            "67";
            (await self._exact_time_lapse(dt));
            "68";
        } else {
            "69";
            (await self._numerical_time_lapse(dt, num_method));
        }
    };
    if (!Oscillator.prototype.time_lapse.__defaults__) Object.defineProperties(Oscillator.prototype.time_lapse, {
        __defaults__ : {value: {num_method:null}},
        __handles_kwarg_interpolation__ : {value: true},
        __argnames__ : {value: ["dt", "num_method"]},
        __module__ : {value: null}
    });
    Oscillator.prototype.reset = async function reset() {
        var self = this;
        "72";
        self._velocity = 0;
        "73";
        self._clock = 0;
        "74";
        self._block.pos.x = amplitude;
        "75";
        (await self._update_spring());
    };
    if (!Oscillator.prototype.reset.__module__) Object.defineProperties(Oscillator.prototype.reset, {
        __module__ : {value: null}
    });
    Oscillator.prototype.__repr__ = async function __repr__() {
                return "<"["+"](__name__)["+"](".")["+"](this.constructor.name)["+"](" #")["+"](this.ρσ_object_id)["+"](">");
    };
    Oscillator.prototype.__str__ = async function __str__() {
        return this.__repr__();
    };
    Object.defineProperty(Oscillator.prototype, "__bases__", {value: []});








    "78";
    position_graph = ρσ_interpolate_kwargs.call(this, graph, [ρσ_desugar_kwargs({title: "Position vs Time", xtitle: "Time", ytitle: "Pos_x", background: color.black})]);
    "79";
    exact_curve = ρσ_interpolate_kwargs.call(this, gcurve, [ρσ_desugar_kwargs({color: color.red})]);
    "80";
    euler_curve = ρσ_interpolate_kwargs.call(this, gcurve, [ρσ_desugar_kwargs({color: color.cyan})]);
    "81";
    implicit_curve = ρσ_interpolate_kwargs.call(this, gcurve, [ρσ_desugar_kwargs({color: color.orange})]);
    "82";
    rk2_curve = ρσ_interpolate_kwargs.call(this, gcurve, [ρσ_desugar_kwargs({color: color.purple})]);
    "83";
    rk4_curve = ρσ_interpolate_kwargs.call(this, gcurve, [ρσ_desugar_kwargs({color: color.green})]);
    "85";
    error_graph = ρσ_interpolate_kwargs.call(this, graph, [ρσ_desugar_kwargs({title: "Errors: Euler [cyan] vs Implicit [orange] vs RK2 [purple] vs RK4 [green]", xtitle: "Time", ytitle: "Error", background: color.black})]);
    "87";
    rk4_error = ρσ_interpolate_kwargs.call(this, gcurve, [ρσ_desugar_kwargs({color: color.green})]);
    "88";
    rk2_error = ρσ_interpolate_kwargs.call(this, gcurve, [ρσ_desugar_kwargs({color: color.purple})]);
    "89";
    euler_error = ρσ_interpolate_kwargs.call(this, gcurve, [ρσ_desugar_kwargs({color: color.cyan})]);
    "90";
    implicit_error = ρσ_interpolate_kwargs.call(this, gcurve, [ρσ_desugar_kwargs({color: color.orange})]);
    "92";
    _GS_1 = new Oscillator;
    ρσ_interpolate_kwargs.call(_GS_1, _GS_1.__init__, [1, spring_rest_length["+"](amplitude)].concat([ρσ_desugar_kwargs({colour: color.red})]));
    exact_oscillator = _GS_1;
    "93";
    _GS_1 = new Oscillator;
    ρσ_interpolate_kwargs.call(_GS_1, _GS_1.__init__, [.5, spring_rest_length["+"](amplitude)].concat([ρσ_desugar_kwargs({colour: color.cyan})]));
    euler_oscillator = _GS_1;
    "94";
    _GS_1 = new Oscillator;
    ρσ_interpolate_kwargs.call(_GS_1, _GS_1.__init__, [0, spring_rest_length["+"](amplitude)].concat([ρσ_desugar_kwargs({colour: color.orange})]));
    implicit_euler_oscillator = _GS_1;
    "95";
    _GS_1 = new Oscillator;
    ρσ_interpolate_kwargs.call(_GS_1, _GS_1.__init__, [1["-u"]()["*"](.5), spring_rest_length["+"](amplitude)].concat([ρσ_desugar_kwargs({colour: color.purple})]));
    runge_kutta_2_oscillator = _GS_1;
    "96";
    _GS_1 = new Oscillator;
    ρσ_interpolate_kwargs.call(_GS_1, _GS_1.__init__, [1["-u"]()["*"](1), spring_rest_length["+"](amplitude)].concat([ρσ_desugar_kwargs({colour: color.green})]));
    runge_kutta_4_oscillator = _GS_1;
    "100";
    async function euler_step(position, velocity, dt, spring_constant, mass) {
        var ρσ_ls, acceleration, v_new, x_new;
        "101";
        acceleration = 1["-u"]()["*"](spring_constant["/"](mass))["*"](position);
        "102";
        v_new = velocity["+"](acceleration["*"](dt));
        "103";
        x_new = position["+"](velocity["*"](dt));
        "105";
        return [x_new, v_new];
    };
    if (!euler_step.__argnames__) Object.defineProperties(euler_step, {
        __argnames__ : {value: ["position", "velocity", "dt", "spring_constant", "mass"]},
        __module__ : {value: null}
    });

    "109";
    async function implicit_euler_step(x, v, dt, k, m) {
        var ρσ_ls, A, B, x_new, v_new;
        "110";
        A = 1["+"](Math.pow(dt, 2)["*"](k)["/"](m));
        "111";
        B = 1["-u"]()["*"](dt)["*"](k)["/"](m);
        "113";
        x_new = x["+"](dt["*"](v))["/"](A);
        "114";
        v_new = v["+"](dt["*"](1["-u"]())["*"](k)["/"](m)["*"](x_new));
        "116";
        return [x_new, v_new];
    };
    if (!implicit_euler_step.__argnames__) Object.defineProperties(implicit_euler_step, {
        __argnames__ : {value: ["x", "v", "dt", "k", "m"]},
        __module__ : {value: null}
    });

    "120";
    async function rk2_step(x, v, dt, k, m) {
        var ρσ_ls, ρσ_unpack, k1x, k1v, k2x, k2v, x_new, v_new;
        "121";
        async function derivatives(x, v) {
            "122";
            return [v, 1["-u"]()["*"](k["/"](m))["*"](x)];
        };
        if (!derivatives.__argnames__) Object.defineProperties(derivatives, {
            __argnames__ : {value: ["x", "v"]},
            __module__ : {value: null}
        });

        "124";
        ρσ_unpack = (await derivatives(x, v));
ρσ_unpack = ρσ_unpack_asarray(2, ρσ_unpack);
        k1x = ρσ_unpack[0];
        k1v = ρσ_unpack[1];
        "125";
        ρσ_unpack = (await derivatives(x["+"](dt["*"](k1x)), v["+"](dt["*"](k1v))));
ρσ_unpack = ρσ_unpack_asarray(2, ρσ_unpack);
        k2x = ρσ_unpack[0];
        k2v = ρσ_unpack[1];
        "127";
        x_new = x["+"](dt["/"](2)["*"](k1x["+"](k2x)));
        "128";
        v_new = v["+"](dt["/"](2)["*"](k1v["+"](k2v)));
        "130";
        return [x_new, v_new];
    };
    if (!rk2_step.__argnames__) Object.defineProperties(rk2_step, {
        __argnames__ : {value: ["x", "v", "dt", "k", "m"]},
        __module__ : {value: null}
    });

    "134";
    async function rk4_step(x, v, dt, k, m) {
        var ρσ_ls, ρσ_unpack, k1x, k1v, k2x, k2v, k3x, k3v, k4x, k4v, x_new, v_new;
        "135";
        async function derivatives(x, v) {
            "136";
            return [v, 1["-u"]()["*"](k["/"](m))["*"](x)];
        };
        if (!derivatives.__argnames__) Object.defineProperties(derivatives, {
            __argnames__ : {value: ["x", "v"]},
            __module__ : {value: null}
        });

        "138";
        ρσ_unpack = (await derivatives(x, v));
ρσ_unpack = ρσ_unpack_asarray(2, ρσ_unpack);
        k1x = ρσ_unpack[0];
        k1v = ρσ_unpack[1];
        "139";
        ρσ_unpack = (await derivatives(x["+"](.5["*"](dt)["*"](k1x)), v["+"](.5["*"](dt)["*"](k1v))));
ρσ_unpack = ρσ_unpack_asarray(2, ρσ_unpack);
        k2x = ρσ_unpack[0];
        k2v = ρσ_unpack[1];
        "140";
        ρσ_unpack = (await derivatives(x["+"](.5["*"](dt)["*"](k2x)), v["+"](.5["*"](dt)["*"](k2v))));
ρσ_unpack = ρσ_unpack_asarray(2, ρσ_unpack);
        k3x = ρσ_unpack[0];
        k3v = ρσ_unpack[1];
        "141";
        ρσ_unpack = (await derivatives(x["+"](dt["*"](k3x)), v["+"](dt["*"](k3v))));
ρσ_unpack = ρσ_unpack_asarray(2, ρσ_unpack);
        k4x = ρσ_unpack[0];
        k4v = ρσ_unpack[1];
        "143";
        x_new = x["+"](dt["/"](6)["*"](k1x["+"](2["*"](k2x))["+"](2["*"](k3x))["+"](k4x)));
        "144";
        v_new = v["+"](dt["/"](6)["*"](k1v["+"](2["*"](k2v))["+"](2["*"](k3v))["+"](k4v)));
        "146";
        return [x_new, v_new];
    };
    if (!rk4_step.__argnames__) Object.defineProperties(rk4_step, {
        __argnames__ : {value: ["x", "v", "dt", "k", "m"]},
        __module__ : {value: null}
    });

    "150";
    dt = .05;
    "151";
    async function set_dt(event) {
        "152";
        "153";
        dt = event.value;
    };
    if (!set_dt.__argnames__) Object.defineProperties(set_dt, {
        __argnames__ : {value: ["event"]},
        __module__ : {value: null}
    });

    "155";
    running = false;
    "156";
    async function toggle_run(button_) {
        "157";
        "158";
        running = !running;
        "159";
        button_.text = (running) ? "Stop" : "Run";
    };
    if (!toggle_run.__argnames__) Object.defineProperties(toggle_run, {
        __argnames__ : {value: ["button_"]},
        __module__ : {value: null}
    });

    "162";
    display.append_to_caption("\n");
    "163";
    run_button = ρσ_interpolate_kwargs.call(this, button, [ρσ_desugar_kwargs({text: "Run", pos: display.caption_anchor, bind: toggle_run})]);
    "169";
    display.append_to_caption(" | Animation speed");
    "170";
    dt_slider = ρσ_interpolate_kwargs.call(this, slider, [ρσ_desugar_kwargs({bind: set_dt, max: .15, min: 1e-4, step: 1e-4, value: .05})]);
    "177";
    display.append_to_caption("\n\n");
    "179";
    async function run() {
        var t = (arguments[0] === undefined || ( 0 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? run.__defaults__.t : arguments[0];
        var frame_rate = (arguments[1] === undefined || ( 1 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? run.__defaults__.frame_rate : arguments[1];
        var ρσ_kwargs_obj = arguments[arguments.length["-"](1)];
        if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== "object" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "t")){
            t = ρσ_kwargs_obj.t;
        }
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "frame_rate")){
            frame_rate = ρσ_kwargs_obj.frame_rate;
        }
        "180";
        "181";
        while (t["<"](25["*"](frame_rate))) {
            "182";
            if (!running) {
                "183";
                (await rate(10));
                "184";
                continue;
            }
            "186";
            (await rate(frame_rate));
            "188";
            (await exact_oscillator.time_lapse(dt));
            "189";
            (await euler_oscillator.time_lapse(dt, euler_step));
            "190";
            (await implicit_euler_oscillator.time_lapse(dt, implicit_euler_step));
            "191";
            (await runge_kutta_2_oscillator.time_lapse(dt, rk2_step));
            "192";
            (await runge_kutta_4_oscillator.time_lapse(dt, rk4_step));
            "194";
            exact_curve.plot(t, (await exact_oscillator.pos()).x);
            "195";
            euler_curve.plot(t, (await euler_oscillator.pos()).x);
            "196";
            implicit_curve.plot(t, (await implicit_euler_oscillator.pos()).x);
            "197";
            rk2_curve.plot(t, (await runge_kutta_2_oscillator.pos()).x);
            "198";
            rk4_curve.plot(t, (await runge_kutta_4_oscillator.pos()).x);
            "200";
            euler_error.plot(t, abs((await exact_oscillator.pos()).x["-"](1["*"]((await euler_oscillator.pos()).x))));
            "201";
            implicit_error.plot(t, abs((await exact_oscillator.pos()).x["-"](1["*"]((await implicit_euler_oscillator.pos()).x))));
            "202";
            rk4_error.plot(t, abs((await exact_oscillator.pos()).x["-"](1["*"]((await runge_kutta_4_oscillator.pos()).x))));
            "203";
            rk2_error.plot(t, abs((await exact_oscillator.pos()).x["-"](1["*"]((await runge_kutta_2_oscillator.pos()).x))));
            "205";
            t=t["+"](1);
        }
    };
    if (!run.__defaults__) Object.defineProperties(run, {
        __defaults__ : {value: {t:0, frame_rate:60}},
        __handles_kwarg_interpolation__ : {value: true},
        __argnames__ : {value: ["t", "frame_rate"]},
        __module__ : {value: null}
    });

    "207";
    async function reset() {
        "208";
        (await exact_oscillator.reset());
        "209";
        (await euler_oscillator.reset());
        "210";
        (await implicit_euler_oscillator.reset());
        "211";
        (await runge_kutta_2_oscillator.reset());
        "212";
        (await runge_kutta_4_oscillator.reset());
        "213";
        display.range = 1.75;
        "214";
        implicit_curve.remove();
        "215";
        exact_curve.remove();
        "216";
        euler_curve.remove();
        "217";
        rk2_curve.remove();
        "218";
        rk4_curve.remove();
        "219";
        euler_error.remove();
        "220";
        implicit_error.remove();
        "221";
        rk2_error.remove();
        "222";
        rk4_error.remove();
    };
    if (!reset.__module__) Object.defineProperties(reset, {
        __module__ : {value: null}
    });

    "224";
    while (true) {
        "225";
        (await run());
        "226";
        (await toggle_run(run_button));
        "227";
        while (!running) {
            "228";
            (await rate(10));
        }
        "229";
        (await reset());
    }
};
if (!__main__.__module__) Object.defineProperties(__main__, {
    __module__ : {value: null}
});

;$(function(){ window.__context = { glowscript_container: $("#glowscript").removeAttr("id") }; __main__() })})()
// END JAVASCRIPT

//--><!]]></script>
</div>
