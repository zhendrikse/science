<div id="glowscript" class="glowscript">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link type="text/css" href="https://www.glowscript.org/css/redmond/2.1/jquery-ui.custom.css" rel="stylesheet" />
<script type="text/javascript" src="https://www.glowscript.org/lib/jquery/2.1/jquery.min.js"></script>
<script type="text/javascript" src="https://www.glowscript.org/lib/jquery/2.1/jquery-ui.custom.min.js"></script>
<script type="text/javascript" src="https://www.glowscript.org/package/glow.3.2.min.js"></script>
<script type="text/javascript" src="https://www.glowscript.org/package/RSrun.3.2.min.js"></script>
<script type="text/javascript"><!--//--><![CDATA[//><!--

// START JAVASCRIPT
;(function() {;
var ρσ_modules = {};
ρσ_modules.pythonize = {};

(function(){
    function strings() {
        var string_funcs, exclude, name;
        string_funcs = set("capitalize strip lstrip rstrip islower isupper isspace lower upper swapcase center count endswith startswith find rfind index rindex format join ljust rjust partition rpartition replace split rsplit splitlines zfill".split(" "));
        if (!arguments.length) {
            exclude = (function(){
                var s = ρσ_set();
                s.jsset.add("split");
                s.jsset.add("replace");
                return s;
            })();
        } else if (arguments[0]) {
            exclude = Array.prototype.slice.call(arguments);
        } else {
            exclude = null;
        }
        if (exclude) {
            string_funcs = string_funcs.difference(set(exclude));
        }
        var ρσ_Iter0 = string_funcs;
        ρσ_Iter0 = ((typeof ρσ_Iter0[Symbol.iterator] === "function") ? (ρσ_Iter0 instanceof Map ? ρσ_Iter0.keys() : ρσ_Iter0) : Object.keys(ρσ_Iter0));
        for (var ρσ_Index0 of ρσ_Iter0) {
            name = ρσ_Index0;
            (ρσ_expr_temp = String.prototype)[(typeof name === "number" && name < 0) ? ρσ_expr_temp.length + name : name] = (ρσ_expr_temp = ρσ_str.prototype)[(typeof name === "number" && name < 0) ? ρσ_expr_temp.length + name : name];
        }
    };
    if (!strings.__module__) Object.defineProperties(strings, {
        __module__ : {value: "pythonize"}
    });

    ρσ_modules.pythonize.strings = strings;
})();
async function __main__() {
"use strict";
    var display = canvas;
    var scene = canvas();

    function round(num, n=0) {return Number(num.toFixed(n))}

    var version, print, arange, __name__, type, ρσ_ls, title, display, x_hat, y_hat, z_hat, base, label_text, _GS_1, ball, position_plot, curve, timer, axis, t, dt, force;
    version = ρσ_list_decorate([ "3.2", "glowscript" ]);
    Array.prototype['+'] = function(r) {return this.concat(r)}
    Array.prototype['*'] = function(r) {return __array_times_number(this, r)}
    window.__GSlang = "vpython";
    print = GSprint;
    arange = range;
    __name__ = "__main__";
    type = pytype;
    var strings = ρσ_modules.pythonize.strings;

    strings();
    "7";
    title = "&#x2022; <a href=\"https://github.com/zhendrikse/science/blob/main/kinematics/code/bouncing_ball.py\">bouncing_ball.py<\/a> by <a href=\"https://www.hendrikse.name/\">Zeger Hendrikse</a>\n&#x2022; Click mouse button to drop ball\n\n";
    "9";
    display = ρσ_interpolate_kwargs.call(this, canvas, [ρσ_desugar_kwargs({title: title, range: 25, forward: vec(1["-u"]()["*"](.359679), 1["-u"]()["*"](.505533), 1["-u"]()["*"](.784262)), width: 600, height: 400, background: color.gray(.075)})]);
    "11";
    x_hat = vec(1, 0, 0);
    "12";
    y_hat = vec(0, 1, 0);
    "13";
    z_hat = vec(0, 0, 1);
    "14";
    base = ρσ_list_decorate([ x_hat, y_hat, z_hat ]);
    "15";
    label_text = ["x", "y", "z"];
    "17";
    function Timer() {;
    }
    Timer.prototype.__init__ = async function __init__() {
        var self = this;
        var position = (arguments[0] === undefined || ( 0 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__.position : arguments[0];
        var use_scientific = (arguments[1] === undefined || ( 1 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__.use_scientific : arguments[1];
        var relative_to = (arguments[2] === undefined || ( 2 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__.relative_to : arguments[2];
        var timer_color = (arguments[3] === undefined || ( 3 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__.timer_color : arguments[3];
        var ρσ_kwargs_obj = arguments[arguments.length["-"](1)];
        if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== "object" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "position")){
            position = ρσ_kwargs_obj.position;
        }
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "use_scientific")){
            use_scientific = ρσ_kwargs_obj.use_scientific;
        }
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "relative_to")){
            relative_to = ρσ_kwargs_obj.relative_to;
        }
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "timer_color")){
            timer_color = ρσ_kwargs_obj.timer_color;
        }
        "19";
        self._use_scientific = use_scientific;
        "20";
        self._relative_to = relative_to;
        "21";
        self._distance_to_attached_object = (relative_to) ? relative_to.position["-"](1["*"](position)) : 0;
        "22";
        if (use_scientific) {
            "23";
            self._timer_label = ρσ_interpolate_kwargs.call(this, label, [ρσ_desugar_kwargs({pos: position, text: "00E01", box: false, color: timer_color})]);
            "24";
        } else {
            "25";
            self._timer_label = ρσ_interpolate_kwargs.call(this, label, [ρσ_desugar_kwargs({pos: position, text: "00:00:00.00", box: false, color: timer_color})]);
        }
    };
    if (!Timer.prototype.__init__.__defaults__) Object.defineProperties(Timer.prototype.__init__, {
        __defaults__ : {value: {position:vector(0, 0, 0), use_scientific:false, relative_to:null, timer_color:color.white}},
        __handles_kwarg_interpolation__ : {value: true},
        __argnames__ : {value: ["position", "use_scientific", "relative_to", "timer_color"]},
        __module__ : {value: null}
    });
    Timer.__argnames__ = Timer.prototype.__init__.__argnames__;
    Timer.__handles_kwarg_interpolation__ = Timer.prototype.__init__.__handles_kwarg_interpolation__;
    Timer.prototype.update = async function update(t) {
        var self = this;
        var ρσ_ls, hours, minutes, secs, frac;
        "29";
        if (self._relative_to) {
            "30";
            self._timer_label.pos = self._distance_to_attached_object["+"](self._relative_to.position);
            "32";
        }
        if (self._use_scientific) {
            "33";
            self._timer_label.text = "%.4E".format(t);
            "34";
            return;
        }
        "36";
        hours = int(t["/"](3600));
        "37";
        minutes = int(t["/"](60)["%"](60));
        "38";
        secs = int(t["%"](60));
        "39";
        frac = int(round(100["*"](t["%"](1))));
        "40";
        if ((frac === 100 || typeof frac === "object" && ρσ_equals(frac, 100))) {
            "41";
            frac = 0;
            "42";
            secs = secs["+"](1);
        }
        "44";
        self._timer_label.text = "{:02d}:".format(hours)["+"]("{:02d}:".format(minutes))["+"]("{:02d}.".format(secs))["+"]("{:02d}".format(frac));
    };
    if (!Timer.prototype.update.__argnames__) Object.defineProperties(Timer.prototype.update, {
        __argnames__ : {value: ["t"]},
        __module__ : {value: null}
    });
    Timer.prototype.__repr__ = async function __repr__() {
                return "<"["+"](__name__)["+"](".")["+"](this.constructor.name)["+"](" #")["+"](this.ρσ_object_id)["+"](">");
    };
    Timer.prototype.__str__ = async function __str__() {
        return this.__repr__();
    };
    Object.defineProperty(Timer.prototype, "__bases__", {value: []});



    "48";
    function Base() {;
    }
    Base.prototype.__init__ = async function __init__() {
        var self = this;
        var position = (arguments[0] === undefined || ( 0 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__.position : arguments[0];
        var axis_color = (arguments[1] === undefined || ( 1 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__.axis_color : arguments[1];
        var tick_marks_color = (arguments[2] === undefined || ( 2 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__.tick_marks_color : arguments[2];
        var length = (arguments[3] === undefined || ( 3 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__.length : arguments[3];
        var num_tick_marks = (arguments[4] === undefined || ( 4 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__.num_tick_marks : arguments[4];
        var axis_labels = (arguments[5] === undefined || ( 5 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__.axis_labels : arguments[5];
        var ρσ_kwargs_obj = arguments[arguments.length["-"](1)];
        if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== "object" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "position")){
            position = ρσ_kwargs_obj.position;
        }
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "axis_color")){
            axis_color = ρσ_kwargs_obj.axis_color;
        }
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "tick_marks_color")){
            tick_marks_color = ρσ_kwargs_obj.tick_marks_color;
        }
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "length")){
            length = ρσ_kwargs_obj.length;
        }
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "num_tick_marks")){
            num_tick_marks = ρσ_kwargs_obj.num_tick_marks;
        }
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "axis_labels")){
            axis_labels = ρσ_kwargs_obj.axis_labels;
        }
        var ρσ_ls, tick_increment, radius, ρσ_unpack, base_vec, i, offset, positions, pos, label_value, marker, a_box, j;
        "50";
        self._position = position;
        "51";
        num_tick_marks = (!num_tick_marks) ? length["-"](1["*"](1)) : num_tick_marks;
        "52";
        tick_increment = length["/"](num_tick_marks["-"](1["*"](1)));
        "53";
        radius = length["/"](200);
        "55";
        ρσ_unpack = [ρσ_list_decorate([]), ρσ_list_decorate([]), ρσ_list_decorate([]), ρσ_list_decorate([]),
        ρσ_list_decorate([])];
        self._axis = ρσ_unpack[0];
        self._arrows = ρσ_unpack[1];
        self._arrow_labels = ρσ_unpack[2];
        self._tick_marks = ρσ_unpack[3];
        self._tick_labels = ρσ_unpack[4];
        "56";
        var ρσ_Iter1 = base;
        ρσ_Iter1 = ((typeof ρσ_Iter1[Symbol.iterator] === "function") ? (ρσ_Iter1 instanceof Map ? ρσ_Iter1.keys() : ρσ_Iter1) : Object.keys(ρσ_Iter1));
        for (var ρσ_Index1 of ρσ_Iter1) {
            base_vec = ρσ_Index1;
            "57";
            self._axis=self._axis["+"](ρσ_list_decorate([ ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({pos: position["-"](1["*"](length)["*"](base_vec)["/"](2)), axis: length["*"](base_vec), radius: radius, color: axis_color})]) ]));
            "59";
            self._arrows=self._arrows["+"](ρσ_list_decorate([ ρσ_interpolate_kwargs.call(this, arrow, [ρσ_desugar_kwargs({pos: position["+"](length["*"](base_vec)["/"](2)), axis: base_vec, color: axis_color, shaftwidth: radius})]) ]));
        }
        "62";
        var ρσ_Iter2 = range(len(base));
        ρσ_Iter2 = ((typeof ρσ_Iter2[Symbol.iterator] === "function") ? (ρσ_Iter2 instanceof Map ? ρσ_Iter2.keys() : ρσ_Iter2) : Object.keys(ρσ_Iter2));
        for (var ρσ_Index2 of ρσ_Iter2) {
            i = ρσ_Index2;
            "63";
            self._arrow_labels.append(ρσ_interpolate_kwargs.call(this, label, [ρσ_desugar_kwargs({pos: position["+"](ρσ_getitem(base, i)["*"](length["/"](2)["+"](tick_increment))), text: ρσ_getitem(axis_labels, i), color: tick_marks_color, box: false})]));
        }
        "66";
        offset = ρσ_list_decorate([ 1["-u"]()["*"](.05)["*"](length)["*"](y_hat), .05["*"](length)["*"](x_hat), 1["-u"]()["*"](.05)["*"](length)["*"](y_hat) ]);
        "67";
        positions = ρσ_list_decorate([]);
        "68";
        var ρσ_Iter3 = range(len(base));
        ρσ_Iter3 = ((typeof ρσ_Iter3[Symbol.iterator] === "function") ? (ρσ_Iter3 instanceof Map ? ρσ_Iter3.keys() : ρσ_Iter3) : Object.keys(ρσ_Iter3));
        for (var ρσ_Index3 of ρσ_Iter3) {
            i = ρσ_Index3;
            "69";
            for (var ρσ_Index4 = 0; ρσ_Index4["<"](num_tick_marks); ρσ_Index4++) {
                j = ρσ_Index4;
                "70";
                pos = position["-"](1["*"](ρσ_getitem(base, i))["*"](length["/"](2)["-"](1["*"](j)["*"](tick_increment))));
                "71";
                positions.append(pos);
                "72";
                label_value = ((i === 0 || typeof i === "object" && ρσ_equals(i, 0))) ? pos.x["-"](1["*"](position.x)) : ((i === 1 || typeof i === "object" && ρσ_equals(i, 1))) ? pos.y["-"](1["*"](position.y)) : pos.z["-"](1["*"](position.z));
                "73";
                label_value = (ρσ_equals(int(num_tick_marks["/"](2)), j)) ? "" : str(int(label_value));
                "74";
                marker = ρσ_interpolate_kwargs.call(this, label, [ρσ_desugar_kwargs({pos: pos["+"](ρσ_getitem(offset, i)), text: label_value, color: color.gray(.5), box: false})]);
                "75";
                self._tick_labels.append(marker);
                "76";
                a_box = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({pos: pos, width: 2["*"](radius), height: .5, length: 2["*"](radius), color: tick_marks_color})]);
                "77";
                if ((i === 1 || typeof i === "object" && ρσ_equals(i, 1))) {
                    "78";
                    ρσ_interpolate_kwargs.call(a_box, a_box.rotate, [ρσ_desugar_kwargs({angle: .5["*"](pi), axis: vec(0, 0, 1)})]);
                }
                "79";
                self._tick_marks.append(a_box);
            }
        }
        "81";
        ρσ_unpack = [ρσ_list_decorate([]), ρσ_list_decorate([]), ρσ_list_decorate([]), ρσ_list_decorate([])];
        self._xy_mesh = ρσ_unpack[0];
        self._zx_mesh = ρσ_unpack[1];
        self._xz_mesh = ρσ_unpack[2];
        self._yx_mesh = ρσ_unpack[3];
        "82";
        for (var ρσ_Index5 = 0; ρσ_Index5["<"](num_tick_marks); ρσ_Index5++) {
            j = ρσ_Index5;
            "83";
            self._xy_mesh=self._xy_mesh["+"](ρσ_list_decorate([ ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({pos: vec(position.x["-"](1["*"](length)["/"](2)), position.y["+"](j["*"](tick_increment))["-"](1["*"](length)["/"](2)), position.z), axis: x_hat["*"](length), color: color.gray(.5), radius: radius["/"](2), visible: false})]) ]));
            "86";
            self._yx_mesh=self._yx_mesh["+"](ρσ_list_decorate([ ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({pos: vec(position.x["-"](1["*"](length)["/"](2))["+"](j["*"](tick_increment)), position.y["-"](1["*"](length)["/"](2)), position.z), axis: y_hat["*"](length), color: color.gray(.5), radius: radius["/"](2), visible: false})]) ]));
            "89";
            self._xz_mesh=self._xz_mesh["+"](ρσ_list_decorate([ ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({pos: vec(position.x["-"](1["*"](length)["/"](2))["+"](j["*"](tick_increment)), position.y, position.z["-"](1["*"](length)["/"](2))), axis: z_hat["*"](length), color: color.gray(.5), radius: radius["/"](2), visible: false})]) ]));
            "92";
            self._zx_mesh=self._zx_mesh["+"](ρσ_list_decorate([ ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({pos: vec(position.x["-"](1["*"](length)["/"](2)), position.y, position.z["-"](1["*"](length)["/"](2))["+"](j["*"](tick_increment))), axis: x_hat["*"](length), color: color.gray(.5), radius: radius["/"](2), visible: false})]) ]));
        }
    };
    if (!Base.prototype.__init__.__defaults__) Object.defineProperties(Base.prototype.__init__, {
        __defaults__ : {value: {position:vec(0, 0, 0), axis_color:color.yellow, tick_marks_color:color.red, length:20, num_tick_marks:null, axis_labels:label_text}},
        __handles_kwarg_interpolation__ : {value: true},
        __argnames__ : {value: ["position", "axis_color", "tick_marks_color", "length", "num_tick_marks", "axis_labels"]},
        __module__ : {value: null}
    });
    Base.__argnames__ = Base.prototype.__init__.__argnames__;
    Base.__handles_kwarg_interpolation__ = Base.prototype.__init__.__handles_kwarg_interpolation__;
    Base.prototype.show_axis = async function show_axis() {
        var self = this;
        "97";
        (await self.axis_visible(true));
    };
    if (!Base.prototype.show_axis.__module__) Object.defineProperties(Base.prototype.show_axis, {
        __module__ : {value: null}
    });
    Base.prototype.hide_axis = async function hide_axis() {
        var self = this;
        "100";
        (await self.axis_visible(false));
    };
    if (!Base.prototype.hide_axis.__module__) Object.defineProperties(Base.prototype.hide_axis, {
        __module__ : {value: null}
    });
    Base.prototype.show_tick_labels = async function show_tick_labels() {
        var self = this;
        "103";
        (await self.tick_labels_visible(true));
    };
    if (!Base.prototype.show_tick_labels.__module__) Object.defineProperties(Base.prototype.show_tick_labels, {
        __module__ : {value: null}
    });
    Base.prototype.hide_tick_labels = async function hide_tick_labels() {
        var self = this;
        "106";
        (await self.tick_labels_visible(false));
    };
    if (!Base.prototype.hide_tick_labels.__module__) Object.defineProperties(Base.prototype.hide_tick_labels, {
        __module__ : {value: null}
    });
    Base.prototype.show_tick_marks = async function show_tick_marks() {
        var self = this;
        "109";
        (await self.tick_marks_visible(true));
    };
    if (!Base.prototype.show_tick_marks.__module__) Object.defineProperties(Base.prototype.show_tick_marks, {
        __module__ : {value: null}
    });
    Base.prototype.hide_tick_marks = async function hide_tick_marks() {
        var self = this;
        "112";
        (await self.tick_marks_visible(false));
    };
    if (!Base.prototype.hide_tick_marks.__module__) Object.defineProperties(Base.prototype.hide_tick_marks, {
        __module__ : {value: null}
    });
    Base.prototype.axis_visible = async function axis_visible(visible) {
        var self = this;
        var ρσ_ls, i;
        "115";
        var ρσ_Iter6 = range(len(base));
        ρσ_Iter6 = ((typeof ρσ_Iter6[Symbol.iterator] === "function") ? (ρσ_Iter6 instanceof Map ? ρσ_Iter6.keys() : ρσ_Iter6) : Object.keys(ρσ_Iter6));
        for (var ρσ_Index6 of ρσ_Iter6) {
            i = ρσ_Index6;
            "116";
            ρσ_getitem(self._arrow_labels, i).visible = visible;
            "117";
            ρσ_getitem(self._arrows, i).visible = visible;
            "118";
            ρσ_getitem(self._axis, i).visible = visible;
        }
        "119";
        (await self.tick_labels_visible(visible));
        "120";
        (await self.tick_marks_visible(visible));
    };
    if (!Base.prototype.axis_visible.__argnames__) Object.defineProperties(Base.prototype.axis_visible, {
        __argnames__ : {value: ["visible"]},
        __module__ : {value: null}
    });
    Base.prototype.tick_labels_visible = async function tick_labels_visible(visible) {
        var self = this;
        var ρσ_ls, a_label;
        "123";
        var ρσ_Iter7 = self._tick_labels;
        ρσ_Iter7 = ((typeof ρσ_Iter7[Symbol.iterator] === "function") ? (ρσ_Iter7 instanceof Map ? ρσ_Iter7.keys() : ρσ_Iter7) : Object.keys(ρσ_Iter7));
        for (var ρσ_Index7 of ρσ_Iter7) {
            a_label = ρσ_Index7;
            "124";
            a_label.visible = visible;
        }
    };
    if (!Base.prototype.tick_labels_visible.__argnames__) Object.defineProperties(Base.prototype.tick_labels_visible, {
        __argnames__ : {value: ["visible"]},
        __module__ : {value: null}
    });
    Base.prototype.tick_marks_visible = async function tick_marks_visible(visible) {
        var self = this;
        var ρσ_ls, tick_mark;
        "127";
        var ρσ_Iter8 = self._tick_marks;
        ρσ_Iter8 = ((typeof ρσ_Iter8[Symbol.iterator] === "function") ? (ρσ_Iter8 instanceof Map ? ρσ_Iter8.keys() : ρσ_Iter8) : Object.keys(ρσ_Iter8));
        for (var ρσ_Index8 of ρσ_Iter8) {
            tick_mark = ρσ_Index8;
            "128";
            tick_mark.visible = visible;
        }
    };
    if (!Base.prototype.tick_marks_visible.__argnames__) Object.defineProperties(Base.prototype.tick_marks_visible, {
        __argnames__ : {value: ["visible"]},
        __module__ : {value: null}
    });
    Base.prototype.xy_mesh_visible = async function xy_mesh_visible(visible) {
        var self = this;
        var ρσ_ls, i;
        "131";
        var ρσ_Iter9 = range(len(self._xy_mesh));
        ρσ_Iter9 = ((typeof ρσ_Iter9[Symbol.iterator] === "function") ? (ρσ_Iter9 instanceof Map ? ρσ_Iter9.keys() : ρσ_Iter9) : Object.keys(ρσ_Iter9));
        for (var ρσ_Index9 of ρσ_Iter9) {
            i = ρσ_Index9;
            "132";
            ρσ_getitem(self._xy_mesh, i).visible = visible;
            "133";
            ρσ_getitem(self._yx_mesh, i).visible = visible;
        }
    };
    if (!Base.prototype.xy_mesh_visible.__argnames__) Object.defineProperties(Base.prototype.xy_mesh_visible, {
        __argnames__ : {value: ["visible"]},
        __module__ : {value: null}
    });
    Base.prototype.xz_mesh_visible = async function xz_mesh_visible(visible) {
        var self = this;
        var ρσ_ls, i;
        "136";
        var ρσ_Iter10 = range(len(self._xz_mesh));
        ρσ_Iter10 = ((typeof ρσ_Iter10[Symbol.iterator] === "function") ? (ρσ_Iter10 instanceof Map ? ρσ_Iter10.keys() : ρσ_Iter10) : Object.keys(ρσ_Iter10));
        for (var ρσ_Index10 of ρσ_Iter10) {
            i = ρσ_Index10;
            "137";
            ρσ_getitem(self._xz_mesh, i).visible = visible;
            "138";
            ρσ_getitem(self._zx_mesh, i).visible = visible;
        }
    };
    if (!Base.prototype.xz_mesh_visible.__argnames__) Object.defineProperties(Base.prototype.xz_mesh_visible, {
        __argnames__ : {value: ["visible"]},
        __module__ : {value: null}
    });
    Base.prototype.show_xy_mesh = async function show_xy_mesh() {
        var self = this;
        "141";
        (await self.xy_mesh_visible(true));
    };
    if (!Base.prototype.show_xy_mesh.__module__) Object.defineProperties(Base.prototype.show_xy_mesh, {
        __module__ : {value: null}
    });
    Base.prototype.hide_xy_mesh = async function hide_xy_mesh() {
        var self = this;
        "144";
        (await self.xy_mesh_visible(false));
    };
    if (!Base.prototype.hide_xy_mesh.__module__) Object.defineProperties(Base.prototype.hide_xy_mesh, {
        __module__ : {value: null}
    });
    Base.prototype.show_xz_mesh = async function show_xz_mesh() {
        var self = this;
        "147";
        (await self.xz_mesh_visible(true));
    };
    if (!Base.prototype.show_xz_mesh.__module__) Object.defineProperties(Base.prototype.show_xz_mesh, {
        __module__ : {value: null}
    });
    Base.prototype.hide_xz_mesh = async function hide_xz_mesh() {
        var self = this;
        "150";
        (await self.xz_mesh_visible(false));
    };
    if (!Base.prototype.hide_xz_mesh.__module__) Object.defineProperties(Base.prototype.hide_xz_mesh, {
        __module__ : {value: null}
    });
    Base.prototype.__repr__ = async function __repr__() {
                return "<"["+"](__name__)["+"](".")["+"](this.constructor.name)["+"](" #")["+"](this.ρσ_object_id)["+"](">");
    };
    Base.prototype.__str__ = async function __str__() {
        return this.__repr__();
    };
    Object.defineProperty(Base.prototype, "__bases__", {value: []});

















    "153";
    function Moveable() {;
    }
    Moveable.prototype.__init__ = async function __init__() {
        var self = this;
        var pos = (arguments[0] === undefined || ( 0 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__.pos : arguments[0];
        var velocity = (arguments[1] === undefined || ( 1 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__.velocity : arguments[1];
        var mass = (arguments[2] === undefined || ( 2 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__.mass : arguments[2];
        var ρσ_kwargs_obj = arguments[arguments.length["-"](1)];
        if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== "object" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "pos")){
            pos = ρσ_kwargs_obj.pos;
        }
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "velocity")){
            velocity = ρσ_kwargs_obj.velocity;
        }
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "mass")){
            mass = ρσ_kwargs_obj.mass;
        }
        "155";
        self._position = pos;
        "156";
        self._velocity = velocity;
        "157";
        self._mass = mass;
        "158";
        self._start_position = pos;
        "159";
        self._start_velocity = velocity;
    };
    if (!Moveable.prototype.__init__.__defaults__) Object.defineProperties(Moveable.prototype.__init__, {
        __defaults__ : {value: {pos:vec(0, 0, 0), velocity:vec(0, 0, 0), mass:1}},
        __handles_kwarg_interpolation__ : {value: true},
        __argnames__ : {value: ["pos", "velocity", "mass"]},
        __module__ : {value: null}
    });
    Moveable.__argnames__ = Moveable.prototype.__init__.__argnames__;
    Moveable.__handles_kwarg_interpolation__ = Moveable.prototype.__init__.__handles_kwarg_interpolation__;
    Moveable.prototype.render = async function render() {
        var self = this;
        "163";
    };
    if (!Moveable.prototype.render.__module__) Object.defineProperties(Moveable.prototype.render, {
        __module__ : {value: null}
    });
    Moveable.prototype.reset = async function reset() {
        var self = this;
        "166";
        self._position = self._start_position;
        "167";
        self._velocity = self._start_velocity;
        "168";
        (await self.render());
    };
    if (!Moveable.prototype.reset.__module__) Object.defineProperties(Moveable.prototype.reset, {
        __module__ : {value: null}
    });
    Moveable.prototype.move_due_to = async function move_due_to() {
        var self = this;
        var force_vector = (arguments[0] === undefined || ( 0 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? move_due_to.__defaults__.force_vector : arguments[0];
        var dt = (arguments[1] === undefined || ( 1 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? move_due_to.__defaults__.dt : arguments[1];
        var ρσ_kwargs_obj = arguments[arguments.length["-"](1)];
        if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== "object" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "force_vector")){
            force_vector = ρσ_kwargs_obj.force_vector;
        }
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "dt")){
            dt = ρσ_kwargs_obj.dt;
        }
        var ρσ_ls, acceleration_vector;
        "172";
        acceleration_vector = force_vector["/"](self._mass);
        "173";
        self._velocity=self._velocity["+"](acceleration_vector["*"](dt));
        "174";
        self._position=self._position["+"](self._velocity["*"](dt));
        "175";
        (await self.render());
    };
    if (!Moveable.prototype.move_due_to.__defaults__) Object.defineProperties(Moveable.prototype.move_due_to, {
        __defaults__ : {value: {force_vector:vec(0, 0, 0), dt:.01}},
        __handles_kwarg_interpolation__ : {value: true},
        __argnames__ : {value: ["force_vector", "dt"]},
        __module__ : {value: null}
    });
    Moveable.prototype.position = async function position() {
        var self = this;
        "178";
        return self._position;
    };
    if (!Moveable.prototype.position.__module__) Object.defineProperties(Moveable.prototype.position, {
        __module__ : {value: null}
    });
    Moveable.prototype.mass = async function mass() {
        var self = this;
        "181";
        return self._mass;
    };
    if (!Moveable.prototype.mass.__module__) Object.defineProperties(Moveable.prototype.mass, {
        __module__ : {value: null}
    });
    Moveable.prototype.__repr__ = async function __repr__() {
                return "<"["+"](__name__)["+"](".")["+"](this.constructor.name)["+"](" #")["+"](this.ρσ_object_id)["+"](">");
    };
    Moveable.prototype.__str__ = async function __str__() {
        return this.__repr__();
    };
    Object.defineProperty(Moveable.prototype, "__bases__", {value: []});







    "184";
    function Ball() {;
    }
    ρσ_extends(Ball, Moveable);
    Ball.prototype.__init__ = async function __init__() {
        var self = this;
        var mass = (arguments[0] === undefined || ( 0 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__.mass : arguments[0];
        var position = (arguments[1] === undefined || ( 1 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__.position : arguments[1];
        var velocity = (arguments[2] === undefined || ( 2 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__.velocity : arguments[2];
        var radius = (arguments[3] === undefined || ( 3 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__.radius : arguments[3];
        var colour = (arguments[4] === undefined || ( 4 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__.colour : arguments[4];
        var elasticity = (arguments[5] === undefined || ( 5 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__.elasticity : arguments[5];
        var make_trail = (arguments[6] === undefined || ( 6 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__.make_trail : arguments[6];
        var draw = (arguments[7] === undefined || ( 7 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? __init__.__defaults__.draw : arguments[7];
        var ρσ_kwargs_obj = arguments[arguments.length["-"](1)];
        if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== "object" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "mass")){
            mass = ρσ_kwargs_obj.mass;
        }
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "position")){
            position = ρσ_kwargs_obj.position;
        }
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "velocity")){
            velocity = ρσ_kwargs_obj.velocity;
        }
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "radius")){
            radius = ρσ_kwargs_obj.radius;
        }
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "colour")){
            colour = ρσ_kwargs_obj.colour;
        }
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "elasticity")){
            elasticity = ρσ_kwargs_obj.elasticity;
        }
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "make_trail")){
            make_trail = ρσ_kwargs_obj.make_trail;
        }
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "draw")){
            draw = ρσ_kwargs_obj.draw;
        }
        "186";
        ρσ_interpolate_kwargs.call(this, Moveable.prototype.__init__, [self].concat([ρσ_desugar_kwargs({pos: position, velocity: velocity, mass: mass})]));
        "188";
        self._ball = (draw) ? (await self._vpython_ball(mass, position, velocity, radius, colour, elasticity, make_trail)) : null;
        "189";
        self._radius = radius;
        "190";
        self._elasticity = elasticity;
    };
    if (!Ball.prototype.__init__.__defaults__) Object.defineProperties(Ball.prototype.__init__, {
        __defaults__ : {value: {mass:1.5, position:vector(0, 0, 0), velocity:vector(0, 0, 0), radius:.1, colour:color.yellow, elasticity:1, make_trail:true, draw:true}},
        __handles_kwarg_interpolation__ : {value: true},
        __argnames__ : {value: ["mass", "position", "velocity", "radius", "colour", "elasticity", "make_trail", "draw"]},
        __module__ : {value: null}
    });
    Ball.__argnames__ = Ball.prototype.__init__.__argnames__;
    Ball.__handles_kwarg_interpolation__ = Ball.prototype.__init__.__handles_kwarg_interpolation__;
    Ball.prototype._vpython_ball = async function _vpython_ball(mass, position, velocity, radius, colour, elasticity, make_trail) {
        var self = this;
        "193";
        return ρσ_interpolate_kwargs.call(this, sphere, [ρσ_desugar_kwargs({pos: position, radius: radius, color: colour, velocity: velocity, mass: mass, elasticity: elasticity, make_trail: make_trail, trail_type: "points", retain: 50, interval: 5})]);
    };
    if (!Ball.prototype._vpython_ball.__argnames__) Object.defineProperties(Ball.prototype._vpython_ball, {
        __argnames__ : {value: ["mass", "position", "velocity", "radius", "colour", "elasticity", "make_trail"]},
        __module__ : {value: null}
    });
    Ball.prototype.render = async function render() {
        var self = this;
        "196";
        if (self._ball) {
            "197";
            self._ball.pos = self._position;
        }
    };
    if (!Ball.prototype.render.__module__) Object.defineProperties(Ball.prototype.render, {
        __module__ : {value: null}
    });
    Ball.prototype.lies_on_floor = async function lies_on_floor() {
        var self = this;
        "200";
        return (await self.position()).y["-"](1["*"]((await self.radius())))["<="](.5);
    };
    if (!Ball.prototype.lies_on_floor.__module__) Object.defineProperties(Ball.prototype.lies_on_floor, {
        __module__ : {value: null}
    });
    Ball.prototype.bounce_from_floor = async function bounce_from_floor(dt) {
        var self = this;
        "203";
        self._velocity.y=self._velocity.y["*"](1["-u"]()["*"]((await self.elasticity())));
        "204";
        self._position=self._position["+"](self._velocity["*"](dt));
        "207";
        if (self._velocity.y["<="](.1)) {
            "208";
            self._position.y = (await self.radius())["+"]((await self.radius())["/"](10));
        }
        "210";
        (await self.render());
    };
    if (!Ball.prototype.bounce_from_floor.__argnames__) Object.defineProperties(Ball.prototype.bounce_from_floor, {
        __argnames__ : {value: ["dt"]},
        __module__ : {value: null}
    });
    Ball.prototype.radius = async function radius() {
        var self = this;
        "213";
        return self._radius;
    };
    if (!Ball.prototype.radius.__module__) Object.defineProperties(Ball.prototype.radius, {
        __module__ : {value: null}
    });
    Ball.prototype.elasticity = async function elasticity() {
        var self = this;
        "216";
        return self._elasticity;
    };
    if (!Ball.prototype.elasticity.__module__) Object.defineProperties(Ball.prototype.elasticity, {
        __module__ : {value: null}
    });
    Ball.prototype.__repr__ = async function __repr__() {
        if(Moveable.prototype.__repr__) return Moveable.prototype.__repr__.call(this);
        return "<"["+"](__name__)["+"](".")["+"](this.constructor.name)["+"](" #")["+"](this.ρσ_object_id)["+"](">");
    };
    Ball.prototype.__str__ = async function __str__() {
        if(Moveable.prototype.__str__) return Moveable.prototype.__str__.call(this);
return this.__repr__();
    };
    Object.defineProperty(Ball.prototype, "__bases__", {value: [Moveable]});








    "219";
    _GS_1 = new Ball;
    ρσ_interpolate_kwargs.call(_GS_1, _GS_1.__init__, [ρσ_desugar_kwargs({position: vec(1["-u"]()["*"](10), 20, 1["-u"]()["*"](10)), velocity: vec(1, 0, 1), radius: 1, elasticity: .9, colour: color.cyan})]);
    ball = _GS_1;
    "220";
    position_plot = ρσ_interpolate_kwargs.call(this, graph, [ρσ_desugar_kwargs({title: "Bouncing ball", xtitle: "Time", ytitle: "Height", width: 600, height: 250, background: color.black})]);
    "221";
    curve = ρσ_interpolate_kwargs.call(this, gcurve, [ρσ_desugar_kwargs({color: color.red})]);
    "222";
    _GS_1 = new Timer;
    ρσ_interpolate_kwargs.call(_GS_1, _GS_1.__init__, [ρσ_desugar_kwargs({position: vec(20, 20, 0)})]);
    timer = _GS_1;
    "223";
    _GS_1 = new Base;
    ρσ_interpolate_kwargs.call(_GS_1, _GS_1.__init__, [ρσ_desugar_kwargs({length: 40})]);
    axis = _GS_1;
    "224";
    (await axis.hide_tick_labels());
    "225";
    (await axis.show_xz_mesh());
    "227";
    t = 0;
    "228";
    dt = .01;
    "229";
    (await display.waitfor("click"));
    "230";
    while ((await ball.position()).x["<"](20)) {
        "231";
        (await rate(2["/"](dt)));
        "232";
        (await timer.update(t["/"](2)));
        "234";
        force = vec(0, 1["-u"]()["*"](9.8), 0)["*"]((await ball.mass()));
        "235";
        (await ball.move_due_to(force, dt));
        "236";
        if ((await ball.lies_on_floor())) {
            "237";
            (await ball.bounce_from_floor(dt));
        }
        "239";
        curve.plot(t["/"](2), (await ball.position()).y);
        "240";
        t=t["+"](dt);
    }
};
if (!__main__.__module__) Object.defineProperties(__main__, {
    __module__ : {value: null}
});

;$(function(){ window.__context = { glowscript_container: $("#glowscript").removeAttr("id") }; __main__() })})()
// END JAVASCRIPT

//--><!]]></script>
</div>
